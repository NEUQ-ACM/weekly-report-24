<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="https://cdn.bootcdn.net/ajax/libs/axios/1.7.2/axios.js"></script>
<body>
  <button>GET</button>
  <button>POST</button>
  <button>AJAX</button>


  <script>
    const btns = document.querySelectorAll('button')
    btns[0].addEventListener('click',() => {
      axios.get('http://127.0.0.1:8000/axios-server',{
        params : {
          id:100,
          vip:7,
        },

        headers:{
          name:'atguigu',
          age:20,
        }
      }).then((value) => {
        console.log(value)
      })
    })

    btns[2].addEventListener('click',() => {

        axios (
        {
          
          method : 'POST',
          url:'http://127.0.0.1:8000/axios-server',


          params: {
            vip:10,
            level:20,
          },

          headers:{
            name:'why',
            age:18,
          },

          data:{
            username:'admin',
            password:'admin'
          }

        }
      ).then(response => {
        console.log(response)
      })
    }
  )
  </script>




    <!-- <div id="result" style="height: 330px;width: 330px;border: 1px solid black;">
    </div>

  
    <script>
      const btn = document.querySelector('button')
      const result =document.getElementById('result')
      let isSending = false
      window.addEventListener('keydown',(e) => {
         const xhr = new XMLHttpRequest()
         xhr.responseType = 'json'
      
         xhr.open('GET','http://127.0.0.1:8000/delay')
         xhr.setRequestHeader('Content-Type','application/x-www-form-urlencoded')
         xhr.send('a=100&b=200&c=300')
         
         xhr.ontimeout = () => {
          alert('请求超时')
         }
         
         xhr.onreadystatechange = () =>{
          if(xhr.readyState === 4){
            if(xhr.status >=200 &&xhr.status < 300 && isSending===false){
              // let data = JSON.parse(xhr.response)
              // console.log(data)
              console.log(xhr.response)
              console.log('qqq')
              isSending =true
              // result.innerHTML = data.name
            }
            else {

            }
          }

         }
   
      })



    </script> -->

<!-- <script src="server.js"></script> -->

</body>
</html>